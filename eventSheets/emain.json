{
	"name": "eMain",
	"events": [
		{
			"eventType": "variable",
			"name": "lives",
			"type": "number",
			"initialValue": "3",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 235340572484262
		},
		{
			"eventType": "variable",
			"name": "level",
			"type": "number",
			"initialValue": "1",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 380194303954685
		},
		{
			"eventType": "variable",
			"name": "gold",
			"type": "number",
			"initialValue": "0",
			"comment": "gold obtained from monsters ",
			"isStatic": false,
			"isConstant": false,
			"sid": 978182066114555
		},
		{
			"eventType": "variable",
			"name": "upgrade",
			"type": "number",
			"initialValue": "0",
			"comment": "number of weapon upgrades purchased by player",
			"isStatic": false,
			"isConstant": false,
			"sid": 279455121948067
		},
		{
			"eventType": "variable",
			"name": "midAttack",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 788583315886198
		},
		{
			"eventType": "variable",
			"name": "hasKey",
			"type": "boolean",
			"initialValue": "false",
			"comment": "has the player picked up the key yet",
			"isStatic": false,
			"isConstant": false,
			"sid": 859000053069333
		},
		{
			"eventType": "variable",
			"name": "numEnemies",
			"type": "number",
			"initialValue": "13",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 872612591949011
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 370330191768206
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "lifeCount",
					"sid": 555721555166926,
					"parameters": {
						"text": "lives"
					}
				},
				{
					"id": "set-text",
					"objectClass": "goldCount",
					"sid": 700542691015974,
					"parameters": {
						"text": "gold"
					}
				}
			],
			"sid": 312012340360019
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 588112386464751
				}
			],
			"actions": [
				{
					"id": "set-boolean-eventvar",
					"objectClass": "System",
					"sid": 623274515864705,
					"parameters": {
						"variable": "hasKey",
						"value": "false"
					}
				},
				{
					"id": "set-text",
					"objectClass": "levelCount",
					"sid": 445522706845401,
					"parameters": {
						"text": "level"
					}
				},
				{
					"id": "set-size",
					"objectClass": "upSlash",
					"sid": 811787983883448,
					"parameters": {
						"width": "upSlash.Width+10*upgrade",
						"height": "upSlash.Height+10*upgrade"
					}
				},
				{
					"id": "pin-to-object-imagepoint",
					"objectClass": "direction",
					"sid": 937340636678425,
					"behaviorType": "固定",
					"parameters": {
						"pin-to": "Player",
						"image-point": "0",
						"angle": false,
						"width-type": "no",
						"height-type": "no",
						"z": true
					}
				}
			],
			"sid": 646039266402763,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 603064503953515,
							"parameters": {
								"first-value": "LayoutName",
								"comparison": 0,
								"second-value": "\"Dungeon\""
							}
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 387797017055480,
							"parameters": {
								"object-to-create": "phasingSkull",
								"layer": "0",
								"x": "choose(-40, 2000)",
								"y": "random(100, 900)",
								"create-hierarchy": false
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 582566398668566,
							"parameters": {
								"object-to-create": "phasingSkull",
								"layer": "0",
								"x": "choose(-40, 2000)",
								"y": "random(100, 900)",
								"create-hierarchy": false
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 977928347911435,
							"parameters": {
								"object-to-create": "phasingSkull",
								"layer": "0",
								"x": "choose(-40, 2000)",
								"y": "random(100, 900)",
								"create-hierarchy": false
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 238585321489408,
							"parameters": {
								"object-to-create": "phasingSkull",
								"layer": "0",
								"x": "choose(-40, 2000)",
								"y": "random(100, 900)",
								"create-hierarchy": false
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 137870838898322,
							"parameters": {
								"object-to-create": "bouncingSkull",
								"layer": "0",
								"x": "random(1464, 1800)",
								"y": "random(376, 840)",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-speed",
							"objectClass": "bouncingSkull",
							"sid": 383638025309883,
							"behaviorType": "Bullet",
							"parameters": {
								"speed": "230*(1+0.1*level)"
							}
						},
						{
							"id": "set-speed",
							"objectClass": "phasingSkull",
							"sid": 121413530057650,
							"behaviorType": "Bullet",
							"parameters": {
								"speed": "230*(1+0.1*level)"
							}
						},
						{
							"id": "set-angle-of-motion",
							"objectClass": "phasingSkull",
							"sid": 449835619430574,
							"behaviorType": "Bullet",
							"parameters": {
								"angle": "random(0,360)"
							}
						}
					],
					"sid": 525142999906582,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-tag-playing",
									"objectClass": "Audio",
									"sid": 469379266594303,
									"parameters": {
										"tag": "\"dungeon\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "stop-all",
									"objectClass": "Audio",
									"sid": 375261934701209
								},
								{
									"id": "play",
									"objectClass": "Audio",
									"sid": 757833891591251,
									"parameters": {
										"audio-file": "Dungeon",
										"loop": "looping",
										"volume": "-30",
										"tag-optional": "\"dungeon\""
									}
								}
							],
							"sid": 258981416668942
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 881711221389669,
							"parameters": {
								"first-value": "LayoutName",
								"comparison": 0,
								"second-value": "\"Merchant Room\""
							}
						}
					],
					"actions": [
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 758306532346182,
							"parameters": {
								"layer": "\"Shop Menu\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "stop-all",
							"objectClass": "Audio",
							"sid": 470881447996605
						},
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 199080519514915,
							"parameters": {
								"audio-file": "Merchant",
								"loop": "looping",
								"volume": "-30",
								"tag-optional": "\"merchant\""
							}
						},
						{
							"id": "set-collisions-enabled",
							"objectClass": "merchCol",
							"sid": 501748320760045,
							"parameters": {
								"collisions": "enabled"
							}
						},
						{
							"id": "set-text",
							"objectClass": "weaponPrice",
							"sid": 407816834785915,
							"parameters": {
								"text": "5*(upgrade+1)&\"g\""
							}
						},
						{
							"id": "set-text",
							"objectClass": "potionPrice",
							"sid": 621818861449655,
							"parameters": {
								"text": "5&\"g\""
							}
						}
					],
					"sid": 811342633628720
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 420028456105146,
					"parameters": {
						"variable": "lives",
						"comparison": 0,
						"value": "0"
					}
				}
			],
			"actions": [
				{
					"id": "stop-all",
					"objectClass": "Audio",
					"sid": 619688529895122,
					"disabled": true
				},
				{
					"id": "reset-global-variables",
					"objectClass": "System",
					"sid": 498381166382774
				},
				{
					"id": "restart-layout",
					"objectClass": "System",
					"sid": 112818015958889
				}
			],
			"sid": 313317987111413
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "has-los-to-object",
					"objectClass": "Skeleton",
					"sid": 682872095486408,
					"behaviorType": "LineOfSight",
					"parameters": {
						"object": "Player",
						"image-point": "0"
					}
				}
			],
			"actions": [
				{
					"id": "move-at-angle",
					"objectClass": "Skeleton",
					"sid": 415106231745786,
					"parameters": {
						"angle": "angle(Skeleton.X, Skeleton.Y, Player.X, Player.Y)",
						"distance": "1.0+(level*0.1)"
					}
				}
			],
			"sid": 737404791173007
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Collisions",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Player",
							"sid": 760462405810371,
							"parameters": {
								"object": "Ladder"
							}
						}
					],
					"actions": [
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 466068125781442,
							"parameters": {
								"variable": "level",
								"value": "1"
							}
						}
					],
					"sid": 803428879386728,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 940438306107207,
									"parameters": {
										"first-value": "LayoutName",
										"comparison": 0,
										"second-value": "\"Merchant Room\""
									}
								}
							],
							"actions": [
								{
									"id": "go-to-layout",
									"objectClass": "System",
									"sid": 601003357025559,
									"parameters": {
										"layout": "Dungeon"
									}
								},
								{
									"id": "restart-layout",
									"objectClass": "System",
									"sid": 706662230277330
								}
							],
							"sid": 696781109345195
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 449490898869164,
									"parameters": {
										"first-value": "level%3",
										"comparison": 0,
										"second-value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "go-to-layout",
									"objectClass": "System",
									"sid": 964205175078020,
									"parameters": {
										"layout": "Merchant Room"
									}
								}
							],
							"sid": 577160798228580
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 788807597387195
								}
							],
							"actions": [
								{
									"id": "restart-layout",
									"objectClass": "System",
									"sid": 374999454111646
								}
							],
							"sid": 487836896466876
						}
					],
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Player",
							"sid": 139789960202132,
							"parameters": {
								"object": "Door"
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 581014582924766,
							"parameters": {
								"variable": "hasKey"
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 332610710599419,
							"parameters": {
								"audio-file": "door",
								"loop": "not-looping",
								"volume": "-10",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "destroy",
							"objectClass": "Door",
							"sid": 359468832720925
						}
					],
					"sid": 139042438900808
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Player",
							"sid": 693716685431248,
							"parameters": {
								"object": "EnemyFam"
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 383992788026637,
							"parameters": {
								"audio-file": "hit",
								"loop": "not-looping",
								"volume": "-29",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "subtract-from-eventvar",
							"objectClass": "System",
							"sid": 156107738562415,
							"parameters": {
								"variable": "lives",
								"value": "1"
							}
						},
						{
							"id": "set-text",
							"objectClass": "lifeCount",
							"sid": 979893507044789,
							"parameters": {
								"text": "lives"
							}
						},
						{
							"id": "shake",
							"objectClass": "Player",
							"sid": 805577608362848,
							"behaviorType": "ScrollTo",
							"parameters": {
								"magnitude": "25",
								"duration": "0.4",
								"mode": "reducing-magnitude"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "damageFlash",
							"sid": 756428429610056,
							"parameters": {
								"visibility": "visible"
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 978670671431873,
							"parameters": {
								"seconds": "0.3"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "damageFlash",
							"sid": 653702746129981,
							"parameters": {
								"visibility": "invisible"
							}
						}
					],
					"sid": 972828490749819
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "upSlash",
							"sid": 260347901810377,
							"parameters": {
								"object": "EnemyFam"
							}
						}
					],
					"actions": [
						{
							"id": "spawn-another-object",
							"objectClass": "EnemyFam",
							"sid": 379707112652200,
							"parameters": {
								"object": "Coin",
								"layer": "0",
								"image-point": "0",
								"create-hierarchy": false
							}
						},
						{
							"id": "destroy",
							"objectClass": "EnemyFam",
							"sid": 531168301458201
						},
						{
							"id": "subtract-from-eventvar",
							"objectClass": "System",
							"sid": 980575962820601,
							"parameters": {
								"variable": "numEnemies",
								"value": "1"
							}
						}
					],
					"sid": 900159403163642,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 199731293969269,
									"parameters": {
										"variable": "hasKey"
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 704347041816618,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 470609231822727,
											"parameters": {
												"first-value": "numEnemies",
												"comparison": 0,
												"second-value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "EnemyFam",
											"sid": 862672490419083,
											"parameters": {
												"object": "Key",
												"layer": "0",
												"image-point": "0",
												"create-hierarchy": false
											}
										},
										{
											"id": "move-at-angle",
											"objectClass": "Key",
											"sid": 994996374176857,
											"parameters": {
												"angle": "random(0, 360)",
												"distance": "10"
											}
										}
									],
									"sid": 124332049876704
								},
								{
									"eventType": "variable",
									"name": "r",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 889791938570655
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 867959873682729,
											"parameters": {
												"variable": "r",
												"value": "int(random(1,4))"
											}
										}
									],
									"sid": 123919135169781,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 156800401193536,
													"parameters": {
														"variable": "r",
														"comparison": 0,
														"value": "1"
													}
												}
											],
											"actions": [
												{
													"id": "spawn-another-object",
													"objectClass": "EnemyFam",
													"sid": 761355460079298,
													"parameters": {
														"object": "Key",
														"layer": "0",
														"image-point": "0",
														"create-hierarchy": false
													}
												},
												{
													"id": "move-at-angle",
													"objectClass": "Key",
													"sid": 378888979309941,
													"parameters": {
														"angle": "random(0, 360)",
														"distance": "15"
													}
												}
											],
											"sid": 896796994066623
										}
									]
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Player",
							"sid": 639132804503896,
							"parameters": {
								"object": "Key"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Key",
							"sid": 403786970718045
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 499593205579798,
							"parameters": {
								"variable": "hasKey",
								"value": "true"
							}
						}
					],
					"sid": 849168132407838,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Player",
							"sid": 772302414086678,
							"parameters": {
								"object": "Coin"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Coin",
							"sid": 260348005645722
						},
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 103738898630419,
							"parameters": {
								"audio-file": "gold",
								"loop": "not-looping",
								"volume": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 583391290718211,
							"parameters": {
								"variable": "gold",
								"value": "level"
							}
						},
						{
							"id": "set-text",
							"objectClass": "goldCount",
							"sid": 693774709240601,
							"parameters": {
								"text": "gold"
							}
						}
					],
					"sid": 791257277244910,
					"isOrBlock": true
				}
			],
			"sid": 561616468574223
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "playerAttacks",
			"description": "wasd slashes",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 140467003341792,
							"parameters": {
								"key": 87
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 413203515358853,
							"parameters": {
								"first-value": "LayoutName",
								"comparison": 0,
								"second-value": "\"Dungeon\""
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 589273547864414,
							"parameters": {
								"variable": "midAttack"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 232975563210606,
							"parameters": {
								"variable": "midAttack",
								"value": "true"
							}
						},
						{
							"id": "set-position",
							"objectClass": "upSlash",
							"sid": 971622803820409,
							"parameters": {
								"x": "Player.X",
								"y": "Player.Y-25"
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 139306529483259,
							"parameters": {
								"seconds": "0.1"
							}
						},
						{
							"id": "play-by-name",
							"objectClass": "Audio",
							"sid": 889511393732838,
							"parameters": {
								"folder": "sounds",
								"audio-file-name": "\"slash_\"&choose(1,2)",
								"loop": "not-looping",
								"volume": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "set-position",
							"objectClass": "upSlash",
							"sid": 443372169630151,
							"parameters": {
								"x": "-64",
								"y": "240"
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 212416651107971,
							"parameters": {
								"seconds": "0.3"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 335438565404283,
							"parameters": {
								"variable": "midAttack",
								"value": "false"
							}
						}
					],
					"sid": 255474557594688
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 216729470861237,
							"parameters": {
								"key": 65
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 328349348704080,
							"parameters": {
								"first-value": "LayoutName",
								"comparison": 0,
								"second-value": "\"Dungeon\""
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 869390016227152,
							"parameters": {
								"variable": "midAttack"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 380876389452540,
							"parameters": {
								"variable": "midAttack",
								"value": "true"
							}
						},
						{
							"id": "rotate-counter-clockwise",
							"objectClass": "upSlash",
							"sid": 577320984235472,
							"parameters": {
								"degrees": "90"
							}
						},
						{
							"id": "set-position",
							"objectClass": "upSlash",
							"sid": 683466494257235,
							"parameters": {
								"x": "Player.X-25",
								"y": "Player.Y"
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 591719786573131,
							"parameters": {
								"seconds": "0.1"
							}
						},
						{
							"id": "play-by-name",
							"objectClass": "Audio",
							"sid": 195931196245904,
							"parameters": {
								"folder": "sounds",
								"audio-file-name": "\"slash_\"&choose(1,2)",
								"loop": "not-looping",
								"volume": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "set-position",
							"objectClass": "upSlash",
							"sid": 733766488480522,
							"parameters": {
								"x": "-64",
								"y": "240"
							}
						},
						{
							"id": "rotate-clockwise",
							"objectClass": "upSlash",
							"sid": 467380288389621,
							"parameters": {
								"degrees": "90"
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 275409804990847,
							"parameters": {
								"seconds": "0.3"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 597152710153068,
							"parameters": {
								"variable": "midAttack",
								"value": "false"
							}
						}
					],
					"sid": 831944999747652
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 230272332364884,
							"parameters": {
								"key": 83
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 555843203781124,
							"parameters": {
								"first-value": "LayoutName",
								"comparison": 0,
								"second-value": "\"Dungeon\""
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 135473112700815,
							"parameters": {
								"variable": "midAttack"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 174251640078283,
							"parameters": {
								"variable": "midAttack",
								"value": "true"
							}
						},
						{
							"id": "rotate-counter-clockwise",
							"objectClass": "upSlash",
							"sid": 855787249362798,
							"parameters": {
								"degrees": "180"
							}
						},
						{
							"id": "set-position",
							"objectClass": "upSlash",
							"sid": 220193351873256,
							"parameters": {
								"x": "Player.X",
								"y": "Player.Y+25"
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 803737015585022,
							"parameters": {
								"seconds": "0.1"
							}
						},
						{
							"id": "play-by-name",
							"objectClass": "Audio",
							"sid": 480507071030754,
							"parameters": {
								"folder": "sounds",
								"audio-file-name": "\"slash_\"&choose(1,2)",
								"loop": "not-looping",
								"volume": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "set-position",
							"objectClass": "upSlash",
							"sid": 793779269883924,
							"parameters": {
								"x": "-64",
								"y": "240"
							}
						},
						{
							"id": "rotate-clockwise",
							"objectClass": "upSlash",
							"sid": 328610410045919,
							"parameters": {
								"degrees": "180"
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 146175191186019,
							"parameters": {
								"seconds": "0.3"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 224598301785853,
							"parameters": {
								"variable": "midAttack",
								"value": "false"
							}
						}
					],
					"sid": 748254049892015
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 685601465079120,
							"parameters": {
								"key": 68
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 920585506784069,
							"parameters": {
								"first-value": "LayoutName",
								"comparison": 0,
								"second-value": "\"Dungeon\""
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 840770677168632,
							"parameters": {
								"variable": "midAttack"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 971868655649538,
							"parameters": {
								"variable": "midAttack",
								"value": "true"
							}
						},
						{
							"id": "rotate-clockwise",
							"objectClass": "upSlash",
							"sid": 799699376168065,
							"parameters": {
								"degrees": "90"
							}
						},
						{
							"id": "set-position",
							"objectClass": "upSlash",
							"sid": 348262978798257,
							"parameters": {
								"x": "Player.X+25",
								"y": "Player.Y"
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 565996263163631,
							"parameters": {
								"seconds": "0.1"
							}
						},
						{
							"id": "play-by-name",
							"objectClass": "Audio",
							"sid": 591708128111157,
							"parameters": {
								"folder": "sounds",
								"audio-file-name": "\"slash_\"&choose(1,2)",
								"loop": "not-looping",
								"volume": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "set-position",
							"objectClass": "upSlash",
							"sid": 926516182721361,
							"parameters": {
								"x": "-64",
								"y": "240"
							}
						},
						{
							"id": "rotate-counter-clockwise",
							"objectClass": "upSlash",
							"sid": 702143707058298,
							"parameters": {
								"degrees": "90"
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 598141456485351,
							"parameters": {
								"seconds": "0.3"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 520656732402878,
							"parameters": {
								"variable": "midAttack",
								"value": "false"
							}
						}
					],
					"sid": 494997784520658
				}
			],
			"sid": 746665832804429
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "PlayerMovement",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 125900194781080,
							"parameters": {
								"key": 38
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Player",
							"sid": 387128237631312,
							"behaviorType": "8Direction",
							"parameters": {
								"control": "up"
							}
						},
						{
							"id": "simulate-control",
							"objectClass": "direction",
							"sid": 872648123713205,
							"behaviorType": "8方向",
							"parameters": {
								"control": "up"
							}
						}
					],
					"sid": 387753969660294
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 319320793283315,
							"parameters": {
								"key": 40
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Player",
							"sid": 803709472040055,
							"behaviorType": "8Direction",
							"parameters": {
								"control": "down"
							}
						},
						{
							"id": "simulate-control",
							"objectClass": "direction",
							"sid": 893677426005962,
							"behaviorType": "8方向",
							"parameters": {
								"control": "down"
							}
						}
					],
					"sid": 501052452653960
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 697808325545779,
							"parameters": {
								"key": 37
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Player",
							"sid": 929535606971093,
							"behaviorType": "8Direction",
							"parameters": {
								"control": "left"
							}
						},
						{
							"id": "simulate-control",
							"objectClass": "direction",
							"sid": 754456582650631,
							"behaviorType": "8方向",
							"parameters": {
								"control": "left"
							}
						}
					],
					"sid": 197640056093948
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 498248086544046,
							"parameters": {
								"key": 39
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Player",
							"sid": 875537898688142,
							"behaviorType": "8Direction",
							"parameters": {
								"control": "right"
							}
						},
						{
							"id": "simulate-control",
							"objectClass": "direction",
							"sid": 351121648399561,
							"behaviorType": "8方向",
							"parameters": {
								"control": "right"
							}
						}
					],
					"sid": 484872760371262
				}
			],
			"sid": 143208339756670
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "PlayerAnimation",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-moving",
							"objectClass": "direction",
							"sid": 312738433619955,
							"behaviorType": "8方向"
						}
					],
					"actions": [],
					"sid": 259194557928249,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-within-angle",
									"objectClass": "direction",
									"sid": 505980562111911,
									"parameters": {
										"within": "46",
										"angle": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Player",
									"sid": 985265995104255,
									"parameters": {
										"animation": "\"Animation 1\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-mirrored",
									"objectClass": "Player",
									"sid": 364266347120511,
									"parameters": {
										"state": "not-mirrored"
									}
								}
							],
							"sid": 728978377328891
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-within-angle",
									"objectClass": "direction",
									"sid": 178030489926808,
									"parameters": {
										"within": "46",
										"angle": "180"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Player",
									"sid": 163439730129188,
									"parameters": {
										"animation": "\"Animation 1\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-mirrored",
									"objectClass": "Player",
									"sid": 483069054112952,
									"parameters": {
										"state": "mirrored"
									}
								}
							],
							"sid": 515676476530141
						}
					]
				}
			],
			"sid": 620333301900732
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Merchant Events",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Player",
							"sid": 580391366319151,
							"parameters": {
								"object": "merchCol"
							}
						},
						{
							"id": "collisions-enabled",
							"objectClass": "merchCol",
							"sid": 426767386430597
						}
					],
					"actions": [
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 762433203590831,
							"parameters": {
								"layer": "\"Shop Menu\"",
								"visibility": "visible"
							}
						}
					],
					"sid": 669435668780787
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "collisions-enabled",
							"objectClass": "merchCol",
							"sid": 472963596092730,
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 142388304823250,
							"parameters": {
								"layer": "\"Shop Menu\"",
								"visibility": "invisible"
							}
						}
					],
					"sid": 760614977293224
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-object-clicked",
							"objectClass": "Mouse",
							"sid": 588061400904073,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked",
								"object-clicked": "merchantText"
							}
						}
					],
					"actions": [],
					"sid": 779629116031571,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-text",
									"objectClass": "merchantText",
									"sid": 744336362161628,
									"parameters": {
										"text-to-compare": "\"exit\"",
										"case-sensitivity": "ignore-case"
									}
								}
							],
							"actions": [
								{
									"id": "set-collisions-enabled",
									"objectClass": "merchCol",
									"sid": 127911578943489,
									"parameters": {
										"collisions": "disabled"
									}
								}
							],
							"sid": 513156583405129
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-text",
									"objectClass": "merchantText",
									"sid": 144105873472176,
									"parameters": {
										"text-to-compare": "\"health potion\"",
										"case-sensitivity": "ignore-case"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 126439859035740,
									"parameters": {
										"variable": "gold",
										"comparison": 5,
										"value": "5"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 640276582658271,
									"parameters": {
										"variable": "lives",
										"comparison": 2,
										"value": "3"
									}
								}
							],
							"actions": [
								{
									"id": "play",
									"objectClass": "Audio",
									"sid": 315864731593060,
									"parameters": {
										"audio-file": "gold",
										"loop": "not-looping",
										"volume": "0",
										"tag-optional": "\"\""
									}
								},
								{
									"id": "subtract-from-eventvar",
									"objectClass": "System",
									"sid": 189519355348921,
									"parameters": {
										"variable": "gold",
										"value": "5"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 373908669003409,
									"parameters": {
										"variable": "lives",
										"value": "1"
									}
								},
								{
									"id": "set-text",
									"objectClass": "goldCount",
									"sid": 338218014326060,
									"parameters": {
										"text": "gold"
									}
								},
								{
									"id": "set-text",
									"objectClass": "lifeCount",
									"sid": 352921268136775,
									"parameters": {
										"text": "lives"
									}
								}
							],
							"sid": 845131969672250
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-text",
									"objectClass": "merchantText",
									"sid": 163047918129159,
									"parameters": {
										"text-to-compare": "\"weapon upgrade\"",
										"case-sensitivity": "ignore-case"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 502002470290620,
									"parameters": {
										"variable": "gold",
										"comparison": 5,
										"value": "5*(upgrade+1)"
									}
								}
							],
							"actions": [
								{
									"id": "play",
									"objectClass": "Audio",
									"sid": 997800975527260,
									"parameters": {
										"audio-file": "gold",
										"loop": "not-looping",
										"volume": "0",
										"tag-optional": "\"\""
									}
								},
								{
									"id": "subtract-from-eventvar",
									"objectClass": "System",
									"sid": 738571600981489,
									"parameters": {
										"variable": "gold",
										"value": "5*(upgrade+1)"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 876762735014212,
									"parameters": {
										"variable": "upgrade",
										"value": "1"
									}
								},
								{
									"id": "set-text",
									"objectClass": "weaponPrice",
									"sid": 565342406233834,
									"parameters": {
										"text": "5*(upgrade+1)&\"g\""
									}
								},
								{
									"id": "set-text",
									"objectClass": "goldCount",
									"sid": 926920912512358,
									"parameters": {
										"text": "gold"
									}
								},
								{
									"id": "set-size",
									"objectClass": "upSlash",
									"sid": 734808690210768,
									"parameters": {
										"width": "upSlash.Width+10*upgrade",
										"height": "upSlash.Height+10*upgrade"
									}
								}
							],
							"sid": 588071538012162
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "cursor-is-over-object",
							"objectClass": "Mouse",
							"sid": 192405999154350,
							"parameters": {
								"object": "merchantText"
							}
						}
					],
					"actions": [],
					"sid": 547423119504725,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "merchantText",
									"sid": 344668772209394,
									"parameters": {
										"instance-variable": "ID",
										"comparison": 0,
										"value": "\"itemText\""
									}
								}
							],
							"actions": [
								{
									"id": "set-default-color",
									"objectClass": "merchantText",
									"sid": 329592252446330,
									"parameters": {
										"color": "rgbEx(153, 0, 0)"
									}
								}
							],
							"sid": 566765202523113
						}
					],
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 263287328867213
						}
					],
					"actions": [
						{
							"id": "set-default-color",
							"objectClass": "merchantText",
							"sid": 501005200500086,
							"parameters": {
								"color": "rgbEx(255,255,255)"
							}
						}
					],
					"sid": 791345430639886
				}
			],
			"sid": 185756921120835
		}
	],
	"sid": 194649752755144
}