{
	"name": "eMain",
	"events": [
		{
			"eventType": "variable",
			"name": "tileSize",
			"type": "number",
			"initialValue": "32",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 350128101988630
		},
		{
			"eventType": "variable",
			"name": "numRooms",
			"type": "number",
			"initialValue": "5",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 427672542856966
		},
		{
			"eventType": "variable",
			"name": "dungeonWidth",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 163982840860369
		},
		{
			"eventType": "variable",
			"name": "dungeonHeight",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 635318649232828
		},
		{
			"eventType": "variable",
			"name": "lives",
			"type": "number",
			"initialValue": "3",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 762064108081304
		},
		{
			"eventType": "variable",
			"name": "level",
			"type": "number",
			"initialValue": "1",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 380194303954685
		},
		{
			"eventType": "variable",
			"name": "gold",
			"type": "number",
			"initialValue": "0",
			"comment": "gold obtained from monsters ",
			"isStatic": false,
			"isConstant": false,
			"sid": 978182066114555
		},
		{
			"eventType": "variable",
			"name": "upgrade",
			"type": "number",
			"initialValue": "0",
			"comment": "number of weapon upgrades purchased by player",
			"isStatic": false,
			"isConstant": false,
			"sid": 279455121948067
		},
		{
			"eventType": "variable",
			"name": "midAttack",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 788583315886198
		},
		{
			"eventType": "variable",
			"name": "hasKey",
			"type": "boolean",
			"initialValue": "false",
			"comment": "has the player picked up the key yet",
			"isStatic": false,
			"isConstant": false,
			"sid": 859000053069333
		},
		{
			"eventType": "variable",
			"name": "numEnemies",
			"type": "number",
			"initialValue": "13",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 872612591949011
		},
		{
			"eventType": "variable",
			"name": "attackAngle",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 635947840900529
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Generate Dungeon",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 342887769426309
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 306146541821804,
							"parameters": {
								"variable": "dungeonHeight",
								"value": "LayoutHeight"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 199721199937727,
							"parameters": {
								"variable": "dungeonWidth",
								"value": "LayoutWidth"
							}
						}
					],
					"sid": 415237542535862,
					"children": [
						{
							"eventType": "comment",
							"text": "Create rooms"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 557641916961532,
									"parameters": {
										"name": "\"LoopRoom\"",
										"start-index": "1",
										"end-index": "numRooms"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 880305485227852,
									"parameters": {
										"object-to-create": "Room",
										"layer": "1",
										"x": "0",
										"y": "0",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Room",
									"sid": 429110693598242,
									"parameters": {
										"instance-variable": "ID",
										"value": "loopindex(\"LoopRoom\")"
									}
								},
								{
									"id": "set-size",
									"objectClass": "Room",
									"sid": 277970832232396,
									"parameters": {
										"width": "round(int(random( 4, 12) * tileSize)/64) * 64 +32",
										"height": "round(int(random( 4, 12) * tileSize)/64) * 64+32"
									}
								},
								{
									"id": "set-position",
									"objectClass": "Room",
									"sid": 904829683987732,
									"parameters": {
										"x": "round(random(tileSize * 8, LayoutWidth - tileSize * 8)/32)*32+16",
										"y": "round(random(tileSize * 8, LayoutHeight - tileSize * 8)/32)*32+16"
									}
								},
								{
									"id": "spawn-another-object",
									"objectClass": "Room",
									"sid": 739610882224489,
									"parameters": {
										"object": "RoomCenter",
										"layer": "1",
										"image-point": "0",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "RoomCenter",
									"sid": 958246104816791,
									"parameters": {
										"instance-variable": "ID",
										"value": "Room.ID "
									}
								}
							],
							"sid": 381021695636301,
							"children": [
								{
									"eventType": "comment",
									"text": "Change the ID of this RoomCenter only, so that the last Room will connect back here"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "RoomCenter",
											"sid": 594227657344940,
											"parameters": {
												"instance-variable": "ID",
												"comparison": 0,
												"value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "RoomCenter",
											"sid": 434241803232522,
											"parameters": {
												"instance-variable": "ID",
												"value": "10"
											}
										}
									],
									"sid": 999135903996779
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Create Hallways"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 770295215696965,
							"parameters": {
								"first-value": "tickcount",
								"comparison": 0,
								"second-value": "2"
							}
						}
					],
					"actions": [],
					"sid": 902900760366386,
					"children": [
						{
							"eventType": "comment",
							"text": "Horizontal Hallways"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 861554333189127,
									"parameters": {
										"object": "Room"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "Room",
									"sid": 626115864137866,
									"parameters": {
										"object": "Hall",
										"layer": "1",
										"image-point": "0",
										"create-hierarchy": false
									}
								}
							],
							"sid": 635168045047857,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "RoomCenter",
											"sid": 115191944727973,
											"parameters": {
												"instance-variable": "ID",
												"comparison": 0,
												"value": "Room.ID + 1"
											}
										}
									],
									"actions": [
										{
											"id": "set-size",
											"objectClass": "Hall",
											"sid": 475654731126461,
											"parameters": {
												"width": "abs( RoomCenter.X - Room.X ) + 32",
												"height": "32"
											}
										},
										{
											"id": "set-position",
											"objectClass": "Hall",
											"sid": 524573898713834,
											"parameters": {
												"x": "( Room.X + RoomCenter.X ) / 2",
												"y": "Room.Y"
											}
										}
									],
									"sid": 591171373343482
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Vertical Hallways"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 182959776269344,
									"parameters": {
										"object": "Room"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "Room",
									"sid": 856683978073589,
									"parameters": {
										"object": "Hall",
										"layer": "1",
										"image-point": "0",
										"create-hierarchy": false
									}
								}
							],
							"sid": 106214842727674,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "RoomCenter",
											"sid": 846417480906330,
											"parameters": {
												"instance-variable": "ID",
												"comparison": 0,
												"value": "Room.ID + 1"
											}
										}
									],
									"actions": [
										{
											"id": "set-size",
											"objectClass": "Hall",
											"sid": 337535727479084,
											"parameters": {
												"width": "32",
												"height": "abs( Room.Y - RoomCenter.Y ) +32"
											}
										},
										{
											"id": "set-position",
											"objectClass": "Hall",
											"sid": 379274572516761,
											"parameters": {
												"x": "RoomCenter.X",
												"y": "( RoomCenter.Y + Room.Y ) / 2"
											}
										}
									],
									"sid": 304461604577343
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Create Borders"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 703783530271957,
							"parameters": {
								"first-value": "tickcount",
								"comparison": 0,
								"second-value": "3"
							}
						}
					],
					"actions": [],
					"sid": 120059110346136,
					"children": [
						{
							"eventType": "comment",
							"text": "Room Borders"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 305747413262286,
									"parameters": {
										"object": "Room"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "Room",
									"sid": 762139281440738,
									"parameters": {
										"object": "Border",
										"layer": "1",
										"image-point": "0",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-size",
									"objectClass": "Border",
									"sid": 774838866050247,
									"parameters": {
										"width": "Room.Width + 64",
										"height": "Room.Height + 64"
									}
								}
							],
							"sid": 844349260788830
						},
						{
							"eventType": "comment",
							"text": "Hall Borders"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 212655711455149,
									"parameters": {
										"object": "Hall"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "Hall",
									"sid": 680709731360419,
									"parameters": {
										"object": "Border",
										"layer": "1",
										"image-point": "0",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-size",
									"objectClass": "Border",
									"sid": 128846068894335,
									"parameters": {
										"width": "Hall.Width + 64",
										"height": "Hall.Height + 64"
									}
								}
							],
							"sid": 125330842321579
						}
					]
				},
				{
					"eventType": "comment",
					"text": "toggle visibility (for debugging; switch initial visibility off in properties)"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 143601308222925,
							"parameters": {
								"first-value": "tickcount",
								"comparison": 0,
								"second-value": "5"
							}
						}
					],
					"actions": [],
					"sid": 789909186715960,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Room",
									"sid": 208878521803720,
									"parameters": {
										"instance-variable": "ID",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "Player",
									"sid": 593282603925224,
									"parameters": {
										"x": "Room.X - 48",
										"y": "Room.Y"
									}
								}
							],
							"sid": 296104758130061
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-last-created",
									"objectClass": "System",
									"sid": 227428200139901,
									"parameters": {
										"object": "Room"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 665803291338810,
									"parameters": {
										"object-to-create": "TrapDoor",
										"layer": "0",
										"x": "Room.X",
										"y": "Room.Y",
										"create-hierarchy": false
									}
								}
							],
							"sid": 320337812223102
						}
					]
				}
			],
			"sid": 377137962723341
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Fill Tilemap",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 402502780830390,
							"parameters": {
								"first-value": "tickcount",
								"comparison": 0,
								"second-value": "4"
							}
						}
					],
					"actions": [],
					"sid": 231727380114742,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 765979946648875,
									"parameters": {
										"object": "Room"
									}
								}
							],
							"actions": [],
							"sid": 248494703703082,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 568137879561617,
											"parameters": {
												"name": "\"i\"",
												"start-index": "Room.X/tileSize - ((Room.Width/tileSize)/2)",
												"end-index": "Room.X/tileSize + ((Room.Width/tileSize)/2) -1"
											}
										}
									],
									"actions": [],
									"sid": 503921537237318,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 579784553655003,
													"parameters": {
														"name": "\"j\"",
														"start-index": "Room.Y/tileSize - ((Room.Height/tileSize)/2)",
														"end-index": "Room.Y/tileSize + ((Room.Height/tileSize)/2) -1"
													}
												}
											],
											"actions": [
												{
													"id": "set-tile",
													"objectClass": "Tilemap",
													"sid": 619690454173363,
													"parameters": {
														"tile-x": "loopindex(\"i\")",
														"tile-y": "loopindex(\"j\")",
														"tile": "choose(6,7,8,9,16,17,18,19,26,27,28,29)",
														"state": "normal"
													}
												}
											],
											"sid": 131894593991461
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 513210444994117,
									"parameters": {
										"object": "Border"
									}
								}
							],
							"actions": [],
							"sid": 393919401657642,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 652953042077388,
											"parameters": {
												"name": "\"i\"",
												"start-index": "Border.X/tileSize - ((Border.Width/tileSize)/2)",
												"end-index": "Border.X/tileSize + ((Border.Width/tileSize)/2) -1"
											}
										}
									],
									"actions": [],
									"sid": 361032312764297,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 685426710809713,
													"parameters": {
														"name": "\"j\"",
														"start-index": "Border.Y/tileSize - ((Border.Height/tileSize)/2)",
														"end-index": "Border.Y/tileSize + ((Border.Height/tileSize)/2) -1"
													}
												}
											],
											"actions": [
												{
													"id": "set-position",
													"objectClass": "TempTile",
													"sid": 534434497159690,
													"parameters": {
														"x": "loopindex(\"i\")*tileSize + tileSize/2",
														"y": "loopindex(\"j\")*tileSize + tileSize/2"
													}
												}
											],
											"sid": 949600506260927,
											"children": [
												{
													"eventType": "comment",
													"text": "Left wall tiles"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 176156904794038,
															"parameters": {
																"first-value": "loopindex(\"i\")",
																"comparison": 0,
																"second-value": "Border.X/tileSize - ((Border.Width/tileSize)/2)"
															}
														}
													],
													"actions": [],
													"sid": 845209827327385,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 537753985976922,
																	"parameters": {
																		"first-value": "TilemapSolid.TileAt(loopindex(\"i\"), loopindex(\"j\"))",
																		"comparison": 0,
																		"second-value": "-1"
																	}
																},
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 764493806942818,
																	"parameters": {
																		"first-value": "TilemapSolid.TileAt(loopindex(\"i\"), loopindex(\"j\"))",
																		"comparison": 0,
																		"second-value": "40"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-tile",
																	"objectClass": "TilemapSolid",
																	"sid": 351194409153236,
																	"parameters": {
																		"tile-x": "loopindex(\"i\")",
																		"tile-y": "loopindex(\"j\")",
																		"tile": "choose(0,10,20,30)",
																		"state": "normal"
																	}
																}
															],
															"sid": 965386457420305,
															"isOrBlock": true
														}
													]
												},
												{
													"eventType": "comment",
													"text": "Right wall tiles"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 413102983226192,
															"parameters": {
																"first-value": "loopindex(\"i\")",
																"comparison": 0,
																"second-value": "Border.X/tileSize + ((Border.Width/tileSize)/2) -1"
															}
														}
													],
													"actions": [],
													"sid": 510580113484079,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 271021671522817,
																	"parameters": {
																		"first-value": "TilemapSolid.TileAt(loopindex(\"i\"), loopindex(\"j\"))",
																		"comparison": 0,
																		"second-value": "-1"
																	}
																},
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 523892359426451,
																	"parameters": {
																		"first-value": "TilemapSolid.TileAt(loopindex(\"i\"), loopindex(\"j\"))",
																		"comparison": 0,
																		"second-value": "45"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-tile",
																	"objectClass": "TilemapSolid",
																	"sid": 971892939819068,
																	"parameters": {
																		"tile-x": "loopindex(\"i\")",
																		"tile-y": "loopindex(\"j\")",
																		"tile": "choose(5,15,25,35)",
																		"state": "normal"
																	}
																}
															],
															"sid": 423593181361551,
															"isOrBlock": true
														}
													]
												},
												{
													"eventType": "comment",
													"text": "Top wall tiles"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 284032609349597,
															"parameters": {
																"first-value": "loopindex(\"j\")",
																"comparison": 0,
																"second-value": "Border.Y/tileSize - ((Border.Height/tileSize)/2)"
															}
														}
													],
													"actions": [],
													"sid": 109842152478929,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 181872101789028,
																	"parameters": {
																		"first-value": "loopindex(\"i\")",
																		"comparison": 1,
																		"second-value": "Border.X/tileSize - ((Border.Width/tileSize)/2)"
																	}
																},
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 653358872819260,
																	"parameters": {
																		"first-value": "loopindex(\"i\")",
																		"comparison": 1,
																		"second-value": "Border.X/tileSize + ((Border.Width/tileSize)/2) -1"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-tile",
																	"objectClass": "TilemapSolid",
																	"sid": 729129488303185,
																	"parameters": {
																		"tile-x": "loopindex(\"i\")",
																		"tile-y": "loopindex(\"j\")",
																		"tile": "choose(1,2,3,4)",
																		"state": "normal"
																	}
																}
															],
															"sid": 845699276207883
														}
													]
												},
												{
													"eventType": "comment",
													"text": "Bottom wall tiles"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 666825419932424,
															"parameters": {
																"first-value": "loopindex(\"j\")",
																"comparison": 0,
																"second-value": "Border.Y/tileSize + ((Border.Height/tileSize)/2) -1"
															}
														}
													],
													"actions": [],
													"sid": 219997755896607,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 998909817854491,
																	"parameters": {
																		"first-value": "loopindex(\"i\")",
																		"comparison": 0,
																		"second-value": "Border.X/tileSize - ((Border.Width/tileSize)/2)"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-tile",
																	"objectClass": "TilemapSolid",
																	"sid": 152464350214812,
																	"parameters": {
																		"tile-x": "loopindex(\"i\")",
																		"tile-y": "loopindex(\"j\")",
																		"tile": "40",
																		"state": "normal"
																	}
																}
															],
															"sid": 531028405712431
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 343497081353221,
																	"parameters": {
																		"first-value": "loopindex(\"i\")",
																		"comparison": 0,
																		"second-value": "Border.X/tileSize + ((Border.Width/tileSize)/2) -1"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-tile",
																	"objectClass": "TilemapSolid",
																	"sid": 459450133386356,
																	"parameters": {
																		"tile-x": "loopindex(\"i\")",
																		"tile-y": "loopindex(\"j\")",
																		"tile": "45",
																		"state": "normal"
																	}
																}
															],
															"sid": 496575452087001
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 843212678076835,
																	"parameters": {
																		"first-value": "loopindex(\"i\")",
																		"comparison": 1,
																		"second-value": "Border.X/tileSize - ((Border.Width/tileSize)/2)"
																	}
																},
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 616325894382459,
																	"parameters": {
																		"first-value": "loopindex(\"i\")",
																		"comparison": 1,
																		"second-value": "Border.X/tileSize + ((Border.Width/tileSize)/2) -1"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-tile",
																	"objectClass": "TilemapSolid",
																	"sid": 305352676979175,
																	"parameters": {
																		"tile-x": "loopindex(\"i\")",
																		"tile-y": "loopindex(\"j\")",
																		"tile": "choose(41,42,43,44,51,52)",
																		"state": "normal"
																	}
																}
															],
															"sid": 795038919326897
														}
													]
												},
												{
													"eventType": "comment",
													"text": "Erase room and hall colliding tiles"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-overlapping-point",
															"objectClass": "System",
															"sid": 279534092950635,
															"parameters": {
																"object": "Hall",
																"x": "loopindex(\"i\")*32 + 16",
																"y": "loopindex(\"j\")*32 + 16"
															}
														},
														{
															"id": "pick-overlapping-point",
															"objectClass": "System",
															"sid": 181699427925855,
															"parameters": {
																"object": "Room",
																"x": "loopindex(\"i\")*32 + 16",
																"y": "loopindex(\"j\")*32 + 16"
															}
														}
													],
													"actions": [
														{
															"id": "erase-tile",
															"objectClass": "TilemapSolid",
															"sid": 666347169640556,
															"parameters": {
																"tile-x": "loopindex(\"i\")",
																"tile-y": "loopindex(\"j\")"
															}
														}
													],
													"sid": 677518191126466,
													"isOrBlock": true
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 908773261161914,
									"parameters": {
										"object": "Hall"
									}
								}
							],
							"actions": [],
							"sid": 976773166846311,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 329352104807032,
											"parameters": {
												"name": "\"i\"",
												"start-index": "Hall.X/tileSize - ((Hall.Width/tileSize)/2)",
												"end-index": "Hall.X/tileSize + ((Hall.Width/tileSize)/2) -1"
											}
										}
									],
									"actions": [],
									"sid": 641509114088333,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 470539433725287,
													"parameters": {
														"name": "\"j\"",
														"start-index": "Hall.Y/tileSize - ((Hall.Height/tileSize)/2)",
														"end-index": "Hall.Y/tileSize + ((Hall.Height/tileSize)/2) -1"
													}
												}
											],
											"actions": [
												{
													"id": "set-tile",
													"objectClass": "Tilemap",
													"sid": 329171339234543,
													"parameters": {
														"tile-x": "loopindex(\"i\")",
														"tile-y": "loopindex(\"j\")",
														"tile": "choose(6,7,8,9,16,17,18,19,26,27,28,29)",
														"state": "normal"
													}
												},
												{
													"id": "set-position",
													"objectClass": "TempTile",
													"sid": 723008975939308,
													"parameters": {
														"x": "loopindex(\"i\")*tileSize + tileSize/2",
														"y": "loopindex(\"j\")*tileSize + tileSize/2"
													}
												}
											],
											"sid": 300833979431492,
											"children": [
												{
													"eventType": "comment",
													"text": "Corner tiles that connect to halls"
												},
												{
													"eventType": "variable",
													"name": "count",
													"type": "number",
													"initialValue": "0",
													"comment": "",
													"isStatic": false,
													"isConstant": false,
													"sid": 658354795105262
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-width",
															"objectClass": "Hall",
															"sid": 470494812895202,
															"parameters": {
																"comparison": 4,
																"width": "tileSize"
															}
														}
													],
													"actions": [],
													"sid": 776898573759208,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-overlapping-at-offset",
																	"objectClass": "TempTile",
																	"sid": 151563517516872,
																	"parameters": {
																		"object": "Border",
																		"offset-x": "0",
																		"offset-y": "32"
																	}
																},
																{
																	"id": "is-overlapping-at-offset",
																	"objectClass": "TempTile",
																	"sid": 956117642837546,
																	"parameters": {
																		"object": "Room",
																		"offset-x": "-32",
																		"offset-y": "0"
																	}
																},
																{
																	"id": "is-overlapping-at-offset",
																	"objectClass": "TempTile",
																	"sid": 648452681885771,
																	"parameters": {
																		"object": "Room",
																		"offset-x": "0",
																		"offset-y": "0"
																	},
																	"isInverted": true
																}
															],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 578824416117143,
																	"parameters": {
																		"variable": "count",
																		"value": "Border.PickedCount"
																	}
																}
															],
															"sid": 447805363512189,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-eventvar",
																			"objectClass": "System",
																			"sid": 424994360752176,
																			"parameters": {
																				"variable": "count",
																				"comparison": 0,
																				"value": "2"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-tile",
																			"objectClass": "TilemapSolid",
																			"sid": 877079603939498,
																			"parameters": {
																				"tile-x": "loopindex(\"i\")",
																				"tile-y": "loopindex(\"j\")+1",
																				"tile": "50",
																				"state": "normal"
																			}
																		}
																	],
																	"sid": 357699203444595
																}
															]
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-overlapping-at-offset",
																	"objectClass": "TempTile",
																	"sid": 299271999155994,
																	"parameters": {
																		"object": "Border",
																		"offset-x": "0",
																		"offset-y": "32"
																	}
																},
																{
																	"id": "is-overlapping-at-offset",
																	"objectClass": "TempTile",
																	"sid": 892203166815971,
																	"parameters": {
																		"object": "Room",
																		"offset-x": "32",
																		"offset-y": "0"
																	}
																},
																{
																	"id": "is-overlapping-at-offset",
																	"objectClass": "TempTile",
																	"sid": 845142964758795,
																	"parameters": {
																		"object": "Room",
																		"offset-x": "0",
																		"offset-y": "0"
																	},
																	"isInverted": true
																}
															],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 566641977720544,
																	"parameters": {
																		"variable": "count",
																		"value": "Border.PickedCount"
																	}
																}
															],
															"sid": 296900834261767,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-eventvar",
																			"objectClass": "System",
																			"sid": 776688967270993,
																			"parameters": {
																				"variable": "count",
																				"comparison": 0,
																				"value": "2"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-tile",
																			"objectClass": "TilemapSolid",
																			"sid": 131133139284131,
																			"parameters": {
																				"tile-x": "loopindex(\"i\")",
																				"tile-y": "loopindex(\"j\")+1",
																				"tile": "53",
																				"state": "normal"
																			}
																		}
																	],
																	"sid": 135054379139257
																}
															]
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-height",
															"objectClass": "Hall",
															"sid": 928804102751537,
															"parameters": {
																"comparison": 4,
																"height": "tileSize"
															}
														}
													],
													"actions": [],
													"sid": 404950464844493,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-overlapping-at-offset",
																	"objectClass": "TempTile",
																	"sid": 114875690704820,
																	"parameters": {
																		"object": "Border",
																		"offset-x": "32",
																		"offset-y": "0"
																	}
																},
																{
																	"id": "is-overlapping-at-offset",
																	"objectClass": "TempTile",
																	"sid": 539914033663477,
																	"parameters": {
																		"object": "Room",
																		"offset-x": "0",
																		"offset-y": "-32"
																	}
																},
																{
																	"id": "is-overlapping-at-offset",
																	"objectClass": "TempTile",
																	"sid": 538429217674245,
																	"parameters": {
																		"object": "Room",
																		"offset-x": "0",
																		"offset-y": "0"
																	},
																	"isInverted": true
																}
															],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 223639837020988,
																	"parameters": {
																		"variable": "count",
																		"value": "Border.PickedCount"
																	}
																}
															],
															"sid": 393220599660928,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-eventvar",
																			"objectClass": "System",
																			"sid": 870688267529492,
																			"parameters": {
																				"variable": "count",
																				"comparison": 4,
																				"value": "1"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-tile",
																			"objectClass": "TilemapSolid",
																			"sid": 662649383911566,
																			"parameters": {
																				"tile-x": "loopindex(\"i\")+1",
																				"tile-y": "loopindex(\"j\")",
																				"tile": "50",
																				"state": "normal"
																			}
																		}
																	],
																	"sid": 194878120843717
																}
															]
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-overlapping-at-offset",
																	"objectClass": "TempTile",
																	"sid": 573665881851881,
																	"parameters": {
																		"object": "Border",
																		"offset-x": "-32",
																		"offset-y": "0"
																	}
																},
																{
																	"id": "is-overlapping-at-offset",
																	"objectClass": "TempTile",
																	"sid": 197706481786967,
																	"parameters": {
																		"object": "Room",
																		"offset-x": "0",
																		"offset-y": "-32"
																	}
																},
																{
																	"id": "is-overlapping-at-offset",
																	"objectClass": "TempTile",
																	"sid": 296491277951167,
																	"parameters": {
																		"object": "Room",
																		"offset-x": "0",
																		"offset-y": "0"
																	},
																	"isInverted": true
																}
															],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 288959559964102,
																	"parameters": {
																		"variable": "count",
																		"value": "Border.PickedCount"
																	}
																}
															],
															"sid": 415148532889104,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-eventvar",
																			"objectClass": "System",
																			"sid": 991493465077024,
																			"parameters": {
																				"variable": "count",
																				"comparison": 4,
																				"value": "1"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-tile",
																			"objectClass": "TilemapSolid",
																			"sid": 842034500463171,
																			"parameters": {
																				"tile-x": "loopindex(\"i\")-1",
																				"tile-y": "loopindex(\"j\")",
																				"tile": "53",
																				"state": "normal"
																			}
																		}
																	],
																	"sid": 210689211048956
																}
															]
														}
													]
												}
											]
										}
									]
								}
							]
						}
					]
				}
			],
			"sid": 290232839635741
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 431935493299971
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "lifeCount",
					"sid": 337674079256671,
					"parameters": {
						"text": "lives"
					}
				},
				{
					"id": "set-text",
					"objectClass": "goldCount",
					"sid": 359112438248165,
					"parameters": {
						"text": "gold"
					}
				}
			],
			"sid": 119744432430359
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 588112386464751
				}
			],
			"actions": [
				{
					"id": "set-boolean-eventvar",
					"objectClass": "System",
					"sid": 623274515864705,
					"parameters": {
						"variable": "hasKey",
						"value": "false"
					}
				},
				{
					"id": "set-text",
					"objectClass": "levelCount",
					"sid": 445522706845401,
					"parameters": {
						"text": "level"
					}
				},
				{
					"id": "set-size",
					"objectClass": "upSlash",
					"sid": 811787983883448,
					"parameters": {
						"width": "upSlash.Width+10*upgrade",
						"height": "upSlash.Height+10*upgrade"
					}
				},
				{
					"id": "pin-to-object-imagepoint",
					"objectClass": "direction",
					"sid": 937340636678425,
					"behaviorType": "固定",
					"parameters": {
						"pin-to": "Player",
						"image-point": "0",
						"angle": false,
						"width-type": "no",
						"height-type": "no",
						"z": true
					}
				}
			],
			"sid": 646039266402763,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 603064503953515,
							"parameters": {
								"first-value": "LayoutName",
								"comparison": 0,
								"second-value": "\"Dungeon\""
							}
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 387797017055480,
							"parameters": {
								"object-to-create": "phasingSkull",
								"layer": "0",
								"x": "choose(-40, 2000)",
								"y": "random(100, 900)",
								"create-hierarchy": false
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 582566398668566,
							"parameters": {
								"object-to-create": "phasingSkull",
								"layer": "0",
								"x": "choose(-40, 2000)",
								"y": "random(100, 900)",
								"create-hierarchy": false
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 977928347911435,
							"parameters": {
								"object-to-create": "phasingSkull",
								"layer": "0",
								"x": "choose(-40, 2000)",
								"y": "random(100, 900)",
								"create-hierarchy": false
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 238585321489408,
							"parameters": {
								"object-to-create": "phasingSkull",
								"layer": "0",
								"x": "choose(-40, 2000)",
								"y": "random(100, 900)",
								"create-hierarchy": false
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 137870838898322,
							"parameters": {
								"object-to-create": "bouncingSkull",
								"layer": "0",
								"x": "random(1464, 1800)",
								"y": "random(376, 840)",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-speed",
							"objectClass": "bouncingSkull",
							"sid": 383638025309883,
							"behaviorType": "Bullet",
							"parameters": {
								"speed": "230*(1+0.1*level)"
							}
						},
						{
							"id": "set-speed",
							"objectClass": "phasingSkull",
							"sid": 121413530057650,
							"behaviorType": "Bullet",
							"parameters": {
								"speed": "230*(1+0.1*level)"
							}
						},
						{
							"id": "set-angle-of-motion",
							"objectClass": "phasingSkull",
							"sid": 449835619430574,
							"behaviorType": "Bullet",
							"parameters": {
								"angle": "random(0,360)"
							}
						},
						{
							"id": "set-text",
							"objectClass": "temAngleText",
							"sid": 471296885856757,
							"parameters": {
								"text": "attackAngle"
							}
						}
					],
					"sid": 525142999906582,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-tag-playing",
									"objectClass": "Audio",
									"sid": 469379266594303,
									"parameters": {
										"tag": "\"dungeon\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "stop-all",
									"objectClass": "Audio",
									"sid": 375261934701209
								},
								{
									"id": "play",
									"objectClass": "Audio",
									"sid": 757833891591251,
									"parameters": {
										"audio-file": "Dungeon",
										"loop": "looping",
										"volume": "-30",
										"tag-optional": "\"dungeon\""
									}
								}
							],
							"sid": 258981416668942
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 881711221389669,
							"parameters": {
								"first-value": "LayoutName",
								"comparison": 0,
								"second-value": "\"Merchant Room\""
							}
						}
					],
					"actions": [
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 758306532346182,
							"parameters": {
								"layer": "\"Shop Menu\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "stop-all",
							"objectClass": "Audio",
							"sid": 470881447996605
						},
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 199080519514915,
							"parameters": {
								"audio-file": "Merchant",
								"loop": "looping",
								"volume": "-30",
								"tag-optional": "\"merchant\""
							}
						},
						{
							"id": "set-collisions-enabled",
							"objectClass": "merchCol",
							"sid": 501748320760045,
							"parameters": {
								"collisions": "enabled"
							}
						},
						{
							"id": "set-text",
							"objectClass": "weaponPrice",
							"sid": 407816834785915,
							"parameters": {
								"text": "5*(upgrade+1)&\"g\""
							}
						},
						{
							"id": "set-text",
							"objectClass": "potionPrice",
							"sid": 621818861449655,
							"parameters": {
								"text": "5&\"g\""
							}
						}
					],
					"sid": 811342633628720
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 420028456105146,
					"parameters": {
						"variable": "lives",
						"comparison": 0,
						"value": "0"
					}
				}
			],
			"actions": [
				{
					"id": "stop-all",
					"objectClass": "Audio",
					"sid": 619688529895122,
					"disabled": true
				},
				{
					"id": "reset-global-variables",
					"objectClass": "System",
					"sid": 498381166382774
				},
				{
					"id": "restart-layout",
					"objectClass": "System",
					"sid": 112818015958889
				}
			],
			"sid": 313317987111413
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "has-los-to-object",
					"objectClass": "Skeleton",
					"sid": 682872095486408,
					"behaviorType": "LineOfSight",
					"parameters": {
						"object": "Player",
						"image-point": "0"
					}
				}
			],
			"actions": [
				{
					"id": "move-at-angle",
					"objectClass": "Skeleton",
					"sid": 415106231745786,
					"parameters": {
						"angle": "angle(Skeleton.X, Skeleton.Y, Player.X, Player.Y)",
						"distance": "1.0+(level*0.1)"
					}
				}
			],
			"sid": 737404791173007
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Collisions",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Player",
							"sid": 189596358978165,
							"parameters": {
								"object": "TrapDoor"
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 291181350772301,
							"parameters": {
								"variable": "hasKey"
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 339176400281715,
							"parameters": {
								"audio-file": "door",
								"loop": "not-looping",
								"volume": "-10",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 457427652227811,
							"parameters": {
								"object-to-create": "Ladder",
								"layer": "0",
								"x": "TrapDoor.X",
								"y": "TrapDoor.Y",
								"create-hierarchy": false
							}
						},
						{
							"id": "destroy",
							"objectClass": "TrapDoor",
							"sid": 786159713127264
						}
					],
					"sid": 461362569419112
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Player",
							"sid": 760462405810371,
							"parameters": {
								"object": "Ladder"
							}
						}
					],
					"actions": [
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 466068125781442,
							"parameters": {
								"variable": "level",
								"value": "1"
							}
						}
					],
					"sid": 803428879386728,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 940438306107207,
									"parameters": {
										"first-value": "LayoutName",
										"comparison": 0,
										"second-value": "\"Merchant Room\""
									}
								}
							],
							"actions": [
								{
									"id": "go-to-layout",
									"objectClass": "System",
									"sid": 601003357025559,
									"parameters": {
										"layout": "Dungeon"
									}
								},
								{
									"id": "restart-layout",
									"objectClass": "System",
									"sid": 706662230277330
								}
							],
							"sid": 696781109345195
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 449490898869164,
									"parameters": {
										"first-value": "level%3",
										"comparison": 0,
										"second-value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "go-to-layout",
									"objectClass": "System",
									"sid": 964205175078020,
									"parameters": {
										"layout": "Merchant Room"
									}
								}
							],
							"sid": 577160798228580
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 788807597387195
								}
							],
							"actions": [
								{
									"id": "restart-layout",
									"objectClass": "System",
									"sid": 374999454111646
								}
							],
							"sid": 487836896466876
						}
					],
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Player",
							"sid": 693716685431248,
							"parameters": {
								"object": "EnemyFam"
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 383992788026637,
							"parameters": {
								"audio-file": "hit",
								"loop": "not-looping",
								"volume": "-29",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "subtract-from-eventvar",
							"objectClass": "System",
							"sid": 156107738562415,
							"parameters": {
								"variable": "lives",
								"value": "1"
							}
						},
						{
							"id": "set-text",
							"objectClass": "lifeCount",
							"sid": 979893507044789,
							"parameters": {
								"text": "lives"
							}
						},
						{
							"id": "shake",
							"objectClass": "Player",
							"sid": 805577608362848,
							"behaviorType": "ScrollTo",
							"parameters": {
								"magnitude": "25",
								"duration": "0.4",
								"mode": "reducing-magnitude"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "damageFlash",
							"sid": 756428429610056,
							"parameters": {
								"visibility": "visible"
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 978670671431873,
							"parameters": {
								"seconds": "0.3"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "damageFlash",
							"sid": 653702746129981,
							"parameters": {
								"visibility": "invisible"
							}
						}
					],
					"sid": 972828490749819
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "upSlash",
							"sid": 260347901810377,
							"parameters": {
								"object": "EnemyFam"
							}
						}
					],
					"actions": [
						{
							"id": "spawn-another-object",
							"objectClass": "EnemyFam",
							"sid": 379707112652200,
							"parameters": {
								"object": "Coin",
								"layer": "0",
								"image-point": "0",
								"create-hierarchy": false
							}
						},
						{
							"id": "destroy",
							"objectClass": "EnemyFam",
							"sid": 531168301458201
						},
						{
							"id": "subtract-from-eventvar",
							"objectClass": "System",
							"sid": 980575962820601,
							"parameters": {
								"variable": "numEnemies",
								"value": "1"
							}
						}
					],
					"sid": 900159403163642,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 199731293969269,
									"parameters": {
										"variable": "hasKey"
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 704347041816618,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 470609231822727,
											"parameters": {
												"first-value": "numEnemies",
												"comparison": 0,
												"second-value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "EnemyFam",
											"sid": 862672490419083,
											"parameters": {
												"object": "Key",
												"layer": "0",
												"image-point": "0",
												"create-hierarchy": false
											}
										},
										{
											"id": "move-at-angle",
											"objectClass": "Key",
											"sid": 994996374176857,
											"parameters": {
												"angle": "random(0, 360)",
												"distance": "10"
											}
										}
									],
									"sid": 124332049876704
								},
								{
									"eventType": "variable",
									"name": "r",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 889791938570655
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 867959873682729,
											"parameters": {
												"variable": "r",
												"value": "int(random(1,4))"
											}
										}
									],
									"sid": 123919135169781,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 156800401193536,
													"parameters": {
														"variable": "r",
														"comparison": 0,
														"value": "1"
													}
												}
											],
											"actions": [
												{
													"id": "spawn-another-object",
													"objectClass": "EnemyFam",
													"sid": 761355460079298,
													"parameters": {
														"object": "Key",
														"layer": "0",
														"image-point": "0",
														"create-hierarchy": false
													}
												},
												{
													"id": "move-at-angle",
													"objectClass": "Key",
													"sid": 378888979309941,
													"parameters": {
														"angle": "random(0, 360)",
														"distance": "15"
													}
												}
											],
											"sid": 896796994066623
										}
									]
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Player",
							"sid": 639132804503896,
							"parameters": {
								"object": "Key"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Key",
							"sid": 403786970718045
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 499593205579798,
							"parameters": {
								"variable": "hasKey",
								"value": "true"
							}
						}
					],
					"sid": 849168132407838,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Player",
							"sid": 772302414086678,
							"parameters": {
								"object": "Coin"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Coin",
							"sid": 260348005645722
						},
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 103738898630419,
							"parameters": {
								"audio-file": "gold",
								"loop": "not-looping",
								"volume": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 583391290718211,
							"parameters": {
								"variable": "gold",
								"value": "level"
							}
						},
						{
							"id": "set-text",
							"objectClass": "goldCount",
							"sid": 693774709240601,
							"parameters": {
								"text": "gold"
							}
						}
					],
					"sid": 791257277244910,
					"isOrBlock": true
				}
			],
			"sid": 561616468574223
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "playerAttacks",
			"description": "wasd slashes",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 359845910655202,
							"parameters": {
								"key": 73
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 413203515358853,
							"parameters": {
								"first-value": "LayoutName",
								"comparison": 0,
								"second-value": "\"Dungeon\""
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 589273547864414,
							"parameters": {
								"variable": "midAttack"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 232975563210606,
							"parameters": {
								"variable": "midAttack",
								"value": "true"
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 552483994150419,
							"parameters": {
								"object-to-create": "upSlash",
								"layer": "0",
								"x": "Player.X",
								"y": "Player.Y-25",
								"create-hierarchy": false
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 139306529483259,
							"parameters": {
								"seconds": "0.1"
							}
						},
						{
							"id": "play-by-name",
							"objectClass": "Audio",
							"sid": 889511393732838,
							"parameters": {
								"folder": "sounds",
								"audio-file-name": "\"slash_\"&choose(1,2)",
								"loop": "not-looping",
								"volume": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "destroy",
							"objectClass": "upSlash",
							"sid": 411886703174543
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 212416651107971,
							"parameters": {
								"seconds": "0.3"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 335438565404283,
							"parameters": {
								"variable": "midAttack",
								"value": "false"
							}
						}
					],
					"sid": 255474557594688
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 722692264850481,
							"parameters": {
								"key": 74
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 328349348704080,
							"parameters": {
								"first-value": "LayoutName",
								"comparison": 0,
								"second-value": "\"Dungeon\""
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 869390016227152,
							"parameters": {
								"variable": "midAttack"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 380876389452540,
							"parameters": {
								"variable": "midAttack",
								"value": "true"
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 406697747711602,
							"parameters": {
								"object-to-create": "leftSlash",
								"layer": "0",
								"x": "Player.X-25",
								"y": "Player.Y",
								"create-hierarchy": false
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 591719786573131,
							"parameters": {
								"seconds": "0.1"
							}
						},
						{
							"id": "play-by-name",
							"objectClass": "Audio",
							"sid": 195931196245904,
							"parameters": {
								"folder": "sounds",
								"audio-file-name": "\"slash_\"&choose(1,2)",
								"loop": "not-looping",
								"volume": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "destroy",
							"objectClass": "leftSlash",
							"sid": 781775512838627
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 275409804990847,
							"parameters": {
								"seconds": "0.3"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 597152710153068,
							"parameters": {
								"variable": "midAttack",
								"value": "false"
							}
						}
					],
					"sid": 831944999747652
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 639444903810819,
							"parameters": {
								"key": 75
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 555843203781124,
							"parameters": {
								"first-value": "LayoutName",
								"comparison": 0,
								"second-value": "\"Dungeon\""
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 135473112700815,
							"parameters": {
								"variable": "midAttack"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 174251640078283,
							"parameters": {
								"variable": "midAttack",
								"value": "true"
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 865107814620542,
							"parameters": {
								"object-to-create": "downSlash",
								"layer": "0",
								"x": "Player.X",
								"y": "Player.Y+25",
								"create-hierarchy": false
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 803737015585022,
							"parameters": {
								"seconds": "0.1"
							}
						},
						{
							"id": "play-by-name",
							"objectClass": "Audio",
							"sid": 480507071030754,
							"parameters": {
								"folder": "sounds",
								"audio-file-name": "\"slash_\"&choose(1,2)",
								"loop": "not-looping",
								"volume": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "destroy",
							"objectClass": "downSlash",
							"sid": 301025880200136
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 146175191186019,
							"parameters": {
								"seconds": "0.3"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 224598301785853,
							"parameters": {
								"variable": "midAttack",
								"value": "false"
							}
						}
					],
					"sid": 748254049892015
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 273654365831774,
							"parameters": {
								"key": 76
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 920585506784069,
							"parameters": {
								"first-value": "LayoutName",
								"comparison": 0,
								"second-value": "\"Dungeon\""
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 840770677168632,
							"parameters": {
								"variable": "midAttack"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 971868655649538,
							"parameters": {
								"variable": "midAttack",
								"value": "true"
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 236441744356493,
							"parameters": {
								"object-to-create": "rightSlash",
								"layer": "0",
								"x": "Player.X+25",
								"y": "Player.Y",
								"create-hierarchy": false
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 565996263163631,
							"parameters": {
								"seconds": "0.1"
							}
						},
						{
							"id": "play-by-name",
							"objectClass": "Audio",
							"sid": 591708128111157,
							"parameters": {
								"folder": "sounds",
								"audio-file-name": "\"slash_\"&choose(1,2)",
								"loop": "not-looping",
								"volume": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "destroy",
							"objectClass": "rightSlash",
							"sid": 839788269483412
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 598141456485351,
							"parameters": {
								"seconds": "0.3"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 520656732402878,
							"parameters": {
								"variable": "midAttack",
								"value": "false"
							}
						}
					],
					"sid": 494997784520658
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-click",
							"objectClass": "Mouse",
							"sid": 134509053842585,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked"
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 295766574094168,
							"parameters": {
								"first-value": "LayoutName",
								"comparison": 0,
								"second-value": "\"Dungeon\""
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 438485916571215,
							"parameters": {
								"variable": "midAttack"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 842285414351257,
							"parameters": {
								"variable": "attackAngle",
								"value": "angle(Player.ImagePointX(0), Player.ImagePointY(0), Mouse.X, Mouse.Y)"
							}
						},
						{
							"id": "set-text",
							"objectClass": "temAngleText",
							"sid": 228734404681222,
							"parameters": {
								"text": "attackAngle"
							}
						}
					],
					"sid": 127040118572133,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 797327725333183,
									"parameters": {
										"variable": "attackAngle",
										"comparison": 3,
										"value": "45"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 765804595324909,
									"parameters": {
										"variable": "attackAngle",
										"comparison": 4,
										"value": "-45"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 911349785160824,
									"parameters": {
										"variable": "midAttack",
										"value": "true"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 444346555112625,
									"parameters": {
										"object-to-create": "rightSlash",
										"layer": "0",
										"x": "Player.X+25",
										"y": "Player.Y",
										"create-hierarchy": false
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 812602465262171,
									"parameters": {
										"seconds": "0.1"
									}
								},
								{
									"id": "play-by-name",
									"objectClass": "Audio",
									"sid": 709305247828979,
									"parameters": {
										"folder": "sounds",
										"audio-file-name": "\"slash_\"&choose(1,2)",
										"loop": "not-looping",
										"volume": "0",
										"tag-optional": "\"\""
									}
								},
								{
									"id": "destroy",
									"objectClass": "rightSlash",
									"sid": 770806122876024
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 920655277240984,
									"parameters": {
										"seconds": "0.3"
									}
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 510943203061753,
									"parameters": {
										"variable": "midAttack",
										"value": "false"
									}
								}
							],
							"sid": 492688118866028
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 572907302870374,
									"parameters": {
										"variable": "attackAngle",
										"comparison": 3,
										"value": "135"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 775627037642159,
									"parameters": {
										"variable": "attackAngle",
										"comparison": 4,
										"value": "45"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 674013709503378,
									"parameters": {
										"variable": "midAttack",
										"value": "true"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 928334441927878,
									"parameters": {
										"object-to-create": "downSlash",
										"layer": "0",
										"x": "Player.X",
										"y": "Player.Y+25",
										"create-hierarchy": false
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 216138806504246,
									"parameters": {
										"seconds": "0.1"
									}
								},
								{
									"id": "play-by-name",
									"objectClass": "Audio",
									"sid": 651488782909681,
									"parameters": {
										"folder": "sounds",
										"audio-file-name": "\"slash_\"&choose(1,2)",
										"loop": "not-looping",
										"volume": "0",
										"tag-optional": "\"\""
									}
								},
								{
									"id": "destroy",
									"objectClass": "downSlash",
									"sid": 265886697775904
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 418849840254933,
									"parameters": {
										"seconds": "0.3"
									}
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 280258460098476,
									"parameters": {
										"variable": "midAttack",
										"value": "false"
									}
								}
							],
							"sid": 249068698376804
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 937095993921050,
									"parameters": {
										"variable": "attackAngle",
										"comparison": 3,
										"value": "-135"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 726997059987962,
									"parameters": {
										"variable": "attackAngle",
										"comparison": 4,
										"value": "135"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 144272385755416,
									"parameters": {
										"variable": "midAttack",
										"value": "true"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 491059079328311,
									"parameters": {
										"object-to-create": "leftSlash",
										"layer": "0",
										"x": "Player.X-25",
										"y": "Player.Y",
										"create-hierarchy": false
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 195796756579923,
									"parameters": {
										"seconds": "0.1"
									}
								},
								{
									"id": "play-by-name",
									"objectClass": "Audio",
									"sid": 544128699548193,
									"parameters": {
										"folder": "sounds",
										"audio-file-name": "\"slash_\"&choose(1,2)",
										"loop": "not-looping",
										"volume": "0",
										"tag-optional": "\"\""
									}
								},
								{
									"id": "destroy",
									"objectClass": "leftSlash",
									"sid": 994821616033692
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 643719418393420,
									"parameters": {
										"seconds": "0.3"
									}
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 355654755254081,
									"parameters": {
										"variable": "midAttack",
										"value": "false"
									}
								}
							],
							"sid": 814250556331296,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 312092014935023,
									"parameters": {
										"variable": "attackAngle",
										"comparison": 3,
										"value": "-45"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 618119923432354,
									"parameters": {
										"variable": "attackAngle",
										"comparison": 4,
										"value": "-135"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 346193774974689,
									"parameters": {
										"variable": "midAttack",
										"value": "true"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 435662656804016,
									"parameters": {
										"object-to-create": "upSlash",
										"layer": "0",
										"x": "Player.X",
										"y": "Player.Y-25",
										"create-hierarchy": false
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 907983192731251,
									"parameters": {
										"seconds": "0.1"
									}
								},
								{
									"id": "play-by-name",
									"objectClass": "Audio",
									"sid": 136200001145666,
									"parameters": {
										"folder": "sounds",
										"audio-file-name": "\"slash_\"&choose(1,2)",
										"loop": "not-looping",
										"volume": "0",
										"tag-optional": "\"\""
									}
								},
								{
									"id": "destroy",
									"objectClass": "upSlash",
									"sid": 917534757160942
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 828869150818041,
									"parameters": {
										"seconds": "0.3"
									}
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 840064612709591,
									"parameters": {
										"variable": "midAttack",
										"value": "false"
									}
								}
							],
							"sid": 457753945718859
						}
					]
				}
			],
			"sid": 746665832804429
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "PlayerMovement",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 494558262935642,
							"parameters": {
								"key": 87
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Player",
							"sid": 387128237631312,
							"behaviorType": "8Direction",
							"parameters": {
								"control": "up"
							}
						},
						{
							"id": "simulate-control",
							"objectClass": "direction",
							"sid": 872648123713205,
							"behaviorType": "8方向",
							"parameters": {
								"control": "up"
							}
						}
					],
					"sid": 387753969660294
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 736918281888653,
							"parameters": {
								"key": 83
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Player",
							"sid": 803709472040055,
							"behaviorType": "8Direction",
							"parameters": {
								"control": "down"
							}
						},
						{
							"id": "simulate-control",
							"objectClass": "direction",
							"sid": 893677426005962,
							"behaviorType": "8方向",
							"parameters": {
								"control": "down"
							}
						}
					],
					"sid": 501052452653960
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 651311147132504,
							"parameters": {
								"key": 65
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Player",
							"sid": 929535606971093,
							"behaviorType": "8Direction",
							"parameters": {
								"control": "left"
							}
						},
						{
							"id": "simulate-control",
							"objectClass": "direction",
							"sid": 754456582650631,
							"behaviorType": "8方向",
							"parameters": {
								"control": "left"
							}
						}
					],
					"sid": 197640056093948
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 287822757267372,
							"parameters": {
								"key": 68
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Player",
							"sid": 875537898688142,
							"behaviorType": "8Direction",
							"parameters": {
								"control": "right"
							}
						},
						{
							"id": "simulate-control",
							"objectClass": "direction",
							"sid": 351121648399561,
							"behaviorType": "8方向",
							"parameters": {
								"control": "right"
							}
						}
					],
					"sid": 484872760371262
				}
			],
			"sid": 143208339756670
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "PlayerAnimation",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-moving",
							"objectClass": "direction",
							"sid": 312738433619955,
							"behaviorType": "8方向"
						}
					],
					"actions": [],
					"sid": 259194557928249,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-within-angle",
									"objectClass": "direction",
									"sid": 505980562111911,
									"parameters": {
										"within": "46",
										"angle": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Player",
									"sid": 985265995104255,
									"parameters": {
										"animation": "\"Animation 1\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-mirrored",
									"objectClass": "Player",
									"sid": 364266347120511,
									"parameters": {
										"state": "not-mirrored"
									}
								}
							],
							"sid": 728978377328891
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-within-angle",
									"objectClass": "direction",
									"sid": 178030489926808,
									"parameters": {
										"within": "46",
										"angle": "180"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Player",
									"sid": 163439730129188,
									"parameters": {
										"animation": "\"Animation 1\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-mirrored",
									"objectClass": "Player",
									"sid": 483069054112952,
									"parameters": {
										"state": "mirrored"
									}
								}
							],
							"sid": 515676476530141
						}
					]
				}
			],
			"sid": 620333301900732
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Merchant Events",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Player",
							"sid": 580391366319151,
							"parameters": {
								"object": "merchCol"
							}
						},
						{
							"id": "collisions-enabled",
							"objectClass": "merchCol",
							"sid": 426767386430597
						}
					],
					"actions": [
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 762433203590831,
							"parameters": {
								"layer": "\"Shop Menu\"",
								"visibility": "visible"
							}
						}
					],
					"sid": 669435668780787
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "collisions-enabled",
							"objectClass": "merchCol",
							"sid": 472963596092730,
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 142388304823250,
							"parameters": {
								"layer": "\"Shop Menu\"",
								"visibility": "invisible"
							}
						}
					],
					"sid": 760614977293224
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-object-clicked",
							"objectClass": "Mouse",
							"sid": 588061400904073,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked",
								"object-clicked": "merchantText"
							}
						}
					],
					"actions": [],
					"sid": 779629116031571,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-text",
									"objectClass": "merchantText",
									"sid": 744336362161628,
									"parameters": {
										"text-to-compare": "\"exit\"",
										"case-sensitivity": "ignore-case"
									}
								}
							],
							"actions": [
								{
									"id": "set-collisions-enabled",
									"objectClass": "merchCol",
									"sid": 127911578943489,
									"parameters": {
										"collisions": "disabled"
									}
								}
							],
							"sid": 513156583405129
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-text",
									"objectClass": "merchantText",
									"sid": 144105873472176,
									"parameters": {
										"text-to-compare": "\"health potion\"",
										"case-sensitivity": "ignore-case"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 126439859035740,
									"parameters": {
										"variable": "gold",
										"comparison": 5,
										"value": "5"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 640276582658271,
									"parameters": {
										"variable": "lives",
										"comparison": 2,
										"value": "3"
									}
								}
							],
							"actions": [
								{
									"id": "play",
									"objectClass": "Audio",
									"sid": 315864731593060,
									"parameters": {
										"audio-file": "gold",
										"loop": "not-looping",
										"volume": "0",
										"tag-optional": "\"\""
									}
								},
								{
									"id": "subtract-from-eventvar",
									"objectClass": "System",
									"sid": 189519355348921,
									"parameters": {
										"variable": "gold",
										"value": "5"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 373908669003409,
									"parameters": {
										"variable": "lives",
										"value": "1"
									}
								},
								{
									"id": "set-text",
									"objectClass": "goldCount",
									"sid": 338218014326060,
									"parameters": {
										"text": "gold"
									}
								},
								{
									"id": "set-text",
									"objectClass": "lifeCount",
									"sid": 352921268136775,
									"parameters": {
										"text": "lives"
									}
								}
							],
							"sid": 845131969672250
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-text",
									"objectClass": "merchantText",
									"sid": 163047918129159,
									"parameters": {
										"text-to-compare": "\"weapon upgrade\"",
										"case-sensitivity": "ignore-case"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 502002470290620,
									"parameters": {
										"variable": "gold",
										"comparison": 5,
										"value": "5*(upgrade+1)"
									}
								}
							],
							"actions": [
								{
									"id": "play",
									"objectClass": "Audio",
									"sid": 997800975527260,
									"parameters": {
										"audio-file": "gold",
										"loop": "not-looping",
										"volume": "0",
										"tag-optional": "\"\""
									}
								},
								{
									"id": "subtract-from-eventvar",
									"objectClass": "System",
									"sid": 738571600981489,
									"parameters": {
										"variable": "gold",
										"value": "5*(upgrade+1)"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 876762735014212,
									"parameters": {
										"variable": "upgrade",
										"value": "1"
									}
								},
								{
									"id": "set-text",
									"objectClass": "weaponPrice",
									"sid": 565342406233834,
									"parameters": {
										"text": "5*(upgrade+1)&\"g\""
									}
								},
								{
									"id": "set-text",
									"objectClass": "goldCount",
									"sid": 926920912512358,
									"parameters": {
										"text": "gold"
									}
								},
								{
									"id": "set-size",
									"objectClass": "upSlash",
									"sid": 734808690210768,
									"parameters": {
										"width": "upSlash.Width+10*upgrade",
										"height": "upSlash.Height+10*upgrade"
									}
								}
							],
							"sid": 588071538012162
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "cursor-is-over-object",
							"objectClass": "Mouse",
							"sid": 192405999154350,
							"parameters": {
								"object": "merchantText"
							}
						}
					],
					"actions": [],
					"sid": 547423119504725,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "merchantText",
									"sid": 344668772209394,
									"parameters": {
										"instance-variable": "ID",
										"comparison": 0,
										"value": "\"itemText\""
									}
								}
							],
							"actions": [
								{
									"id": "set-default-color",
									"objectClass": "merchantText",
									"sid": 329592252446330,
									"parameters": {
										"color": "rgbEx(153, 0, 0)"
									}
								}
							],
							"sid": 566765202523113
						}
					],
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 263287328867213
						}
					],
					"actions": [
						{
							"id": "set-default-color",
							"objectClass": "merchantText",
							"sid": 501005200500086,
							"parameters": {
								"color": "rgbEx(255,255,255)"
							}
						}
					],
					"sid": 791345430639886
				}
			],
			"sid": 185756921120835
		}
	],
	"sid": 194649752755144
}